var vm;

/* istanbul ignore else */
if (typeof process === 'object' && process.versions && process.versions.node) {
  vm = require('vm');
}

function evalFilter(input) {
  var code = '"use strict";\nreturn ' + input + ';';

  /* istanbul ignore else */
  if (vm) {
    return vm.runInNewContext('(function() {\n' + code + '\n})()');
  } else {
    return new Function(code)();
  }
}

export default evalFilter;
